# MyOS - 操作系统模拟程序

## 项目简介

MyOS 是一个基于 Spring Boot 3 和 Vue 2 的操作系统模拟程序，用于演示和教学操作系统的基本功能。该项目实现了操作系统的核心模块，包括进程管理、内存管理、文件系统、设备管理和中断处理等。

## 功能特性

### 🔄 进程管理
- **进程创建与删除**: 支持创建新进程，设置优先级和内存需求
- **进程调度**: 实现多种调度算法（FCFS先到先服务、优先级调度）
- **进程状态管理**: 支持进程状态转换（新建→就绪→运行→等待→终止）
- **进程交换**: 内存不足时自动进行进程交换
- **实时监控**: 实时显示进程状态和队列信息

### 💾 内存管理
- **内存分配**: 为进程分配所需内存空间
- **内存释放**: 进程终止时自动释放内存
- **内存可视化**: 实时显示内存使用情况和空闲块
- **分页管理**: 支持虚拟内存和页面置换
- **内存碎片管理**: 自动处理内存碎片问题

### 📁 文件系统
- **文件操作**: 创建、删除、读取、写入文件
- **目录管理**: 创建、删除、切换目录
- **文件树显示**: 可视化显示完整的文件系统结构
- **磁盘空间管理**: 8GB虚拟磁盘，32MB块大小
- **文件权限**: 支持文件打开/关闭状态管理

### 🖥️ 设备管理
- **设备类型**: 支持打印机、磁盘、扫描仪、网络设备等
- **设备分配**: 进程可申请和释放设备
- **设备状态**: 实时显示设备状态（空闲/忙碌/错误）
- **超时机制**: 设备分配超时自动释放
- **等待队列**: 设备忙时进程进入等待队列

### ⏰ 中断处理
- **时钟中断**: 定时触发时钟中断
- **设备中断**: 设备完成操作时触发中断
- **中断处理**: 自动处理各种中断事件
- **中断统计**: 记录和显示中断处理情况

### 🕐 系统时钟
- **实时时钟**: 系统内部时钟管理
- **定时任务**: 支持定时执行系统任务
- **时钟中断**: 定期触发时钟中断

## 技术架构

### 后端技术栈
- **Spring Boot 3.2.3**: 主框架
- **Spring Data JPA**: 数据持久化
- **H2 Database**: 内存数据库
- **WebSocket**: 实时通信
- **Log4j2**: 日志管理
- **Lombok**: 代码简化
- **Java 17**: 编程语言

### 前端技术栈
- **Vue 2.6.14**: 前端框架
- **Element UI**: UI组件库
- **Vue Router**: 路由管理
- **Vuex**: 状态管理
- **Axios**: HTTP客户端
- **Sass**: CSS预处理器

## 系统要求

### 开发环境
- **JDK**: 17 或更高版本
- **Node.js**: 16 或更高版本
- **Maven**: 3.6 或更高版本
- **npm**: 8 或更高版本

### 运行环境
- **操作系统**: Windows 10/11, macOS, Linux
- **内存**: 至少 4GB RAM
- **磁盘空间**: 至少 1GB 可用空间

## 安装与启动

### 1. 打开项目
```bash
cd MyOS_new
```

### 2. 启动后端服务

#### 方法一：使用 Maven
```bash
# 编译项目
mvn clean package

# 运行项目
java -jar target/myOS-0.0.1-SNAPSHOT.jar
```

#### 方法二：使用 IDE
1. 在 IDE 中打开项目
2. 找到 `MyOSApplication.java` 文件
3. 右键选择 "Run MyOSApplication"

后端服务将在 `http://localhost:8080` 启动

### 3. 启动前端服务
```bash
# 进入前端目录
cd frontend

# 安装依赖
npm install

# 启动开发服务器
npm run serve
```

前端服务将在 `http://localhost:8080` 启动（如果端口冲突会自动选择其他端口）

## 使用说明

### 访问系统
1. 打开浏览器访问 `http://localhost:8080`
2. 系统界面分为两个主要标签页：
   - **进程、内存、设备、中断管理**: 管理系统的核心资源
   - **文件系统**: 管理文件和目录

### 进程管理操作

#### 创建进程
1. 在"进程管理"面板中点击"创建进程"
2. 填写进程信息：
   - **进程名称**: 进程的标识名称
   - **优先级**: 1-10，数字越大优先级越高
   - **内存大小**: 进程所需的内存大小（MB）
3. 点击"确定"创建进程

#### 进程控制
- **查看进程**: 系统自动显示所有进程及其状态
- **终止进程**: 点击进程列表中的"终止"按钮
- **修改优先级**: 点击"修改优先级"按钮调整进程优先级
- **删除进程**: 点击"删除"按钮彻底删除进程

#### 调度算法切换
- 在进程管理面板中选择不同的调度算法：
  - **FCFS**: 先到先服务调度
  - **优先级调度**: 按优先级高低调度

### 内存管理操作

#### 查看内存状态
- 内存管理面板实时显示：
  - 总内存大小
  - 已使用内存
  - 空闲内存
  - 内存使用率
  - 内存块状态图

#### 内存分配
- 创建进程时系统自动分配内存
- 内存不足时系统自动进行进程交换

### 文件系统操作

#### 文件操作
1. **创建文件**: 点击"创建文件"，输入文件名
2. **删除文件**: 选择文件后点击"删除"
3. **打开文件**: 选择文件后点击"打开"
4. **关闭文件**: 选择已打开的文件后点击"关闭"
5. **读取文件**: 选择文件后点击"读取"
6. **写入文件**: 选择文件后点击"写入"，输入内容

#### 目录操作
1. **创建目录**: 点击"创建目录"，输入目录名
2. **删除目录**: 选择目录后点击"删除"
3. **切换目录**: 点击"切换目录"，输入目标路径
4. **查看目录树**: 点击"显示目录树"查看完整结构

#### 路径导航
- **绝对路径**: 以 `/` 开头，如 `/docs/projects`
- **相对路径**: 如 `..` 返回上级目录
- **当前目录**: 显示当前所在目录路径

### 设备管理操作

#### 查看设备
- 设备管理面板显示所有可用设备
- 设备状态包括：空闲(IDLE)、忙碌(BUSY)、错误(ERROR)

#### 设备申请
1. 选择要申请的设备
2. 输入申请时间（秒）
3. 点击"申请设备"
4. 系统自动分配给当前运行的进程

#### 设备释放
- 点击"释放设备"按钮释放当前进程占用的设备
- 设备超时后自动释放

### 系统监控

#### 实时状态
- **系统时钟**: 显示当前系统时间
- **进程统计**: 显示各状态进程数量
- **内存使用**: 实时内存使用情况
- **设备状态**: 设备占用情况

#### 日志查看
- 系统自动记录所有操作日志
- 可在浏览器控制台查看详细日志

## API 接口

### 进程管理 API
- `GET /process` - 获取所有进程
- `POST /process` - 创建进程
- `DELETE /process/{id}` - 删除进程
- `PUT /process/{id}/state` - 更新进程状态
- `PUT /process/{id}/priority` - 更新进程优先级
- `POST /process/{id}/terminate` - 终止进程

### 内存管理 API
- `GET /memory/status` - 获取内存状态
- `GET /memory/blocks` - 获取内存块信息
- `POST /memory/allocate` - 分配内存
- `POST /memory/free` - 释放内存

### 文件系统 API
- `GET /filesystem/current-path` - 获取当前路径
- `POST /filesystem/file` - 创建文件
- `POST /filesystem/directory` - 创建目录
- `DELETE /filesystem/file` - 删除文件
- `DELETE /filesystem/directory` - 删除目录
- `POST /filesystem/change-directory` - 切换目录
- `GET /filesystem/list` - 列出目录内容
- `GET /filesystem/file/content` - 读取文件内容
- `POST /filesystem/file/content` - 写入文件内容

### 设备管理 API
- `GET /device` - 获取所有设备
- `GET /device/available` - 获取可用设备
- `POST /device/allocate` - 分配设备
- `POST /device/release` - 释放设备
- `GET /device/status` - 获取设备状态

### 中断管理 API
- `GET /interrupt/stats` - 获取中断统计
- `POST /interrupt/trigger` - 触发中断

## 项目结构

```
MyOS_new/
├── src/                          # 后端源代码
│   ├── main/java/com/group/myos/
│   │   ├── process/              # 进程管理模块
│   │   ├── memory/               # 内存管理模块
│   │   ├── filesystem/           # 文件系统模块
│   │   ├── device/               # 设备管理模块
│   │   ├── interrupt/            # 中断处理模块
│   │   ├── timer/                # 时钟管理模块
│   │   └── config/               # 配置类
│   └── resources/
│       ├── application.yml       # 应用配置
│       └── log4j2.xml           # 日志配置
├── frontend/                     # 前端源代码
│   ├── src/
│   │   ├── components/           # Vue组件
│   │   ├── api/                  # API接口
│   │   ├── router/               # 路由配置
│   │   └── store/                # 状态管理
│   └── package.json              # 前端依赖
├── docs/                         # 文档
├── target/                       # 编译输出
└── pom.xml                       # Maven配置
```


## 常见问题

### Q: 启动时端口被占用怎么办？
A: 修改 `src/main/resources/application.yml` 中的 `server.port` 配置

### Q: 前端无法连接后端怎么办？
A: 检查后端是否正常启动，确认端口配置正确

### Q: 内存分配失败怎么办？
A: 系统会自动进行进程交换，或者手动终止一些进程释放内存

### Q: 文件系统操作失败怎么办？
A: 检查文件是否已打开，目录是否存在，磁盘空间是否充足



**注意**: 这是一个教学演示项目，用于理解操作系统的基本概念和实现原理。在实际生产环境中，请使用成熟的操作系统。 