{"ast":null,"code":"export default {\n  name: 'Device',\n  data() {\n    return {\n      deviceList: [{\n        id: 1,\n        name: '打印机',\n        type: '输出设备',\n        status: '空闲',\n        processId: null,\n        requestTime: null\n      }, {\n        id: 2,\n        name: '扫描仪',\n        type: '输入设备',\n        status: '空闲',\n        processId: null,\n        requestTime: null\n      }, {\n        id: 3,\n        name: '键盘',\n        type: '输入设备',\n        status: '空闲',\n        processId: null,\n        requestTime: null\n      }, {\n        id: 4,\n        name: '显示器',\n        type: '输出设备',\n        status: '空闲',\n        processId: null,\n        requestTime: null\n      }],\n      dialogVisible: false,\n      deviceForm: {\n        processId: 1,\n        duration: 60\n      },\n      selectedDevice: null\n    };\n  },\n  methods: {\n    requestDevice() {\n      this.dialogVisible = true;\n    },\n    releaseDevice() {\n      this.$message.success('执行设备释放');\n    },\n    handleRequest(row) {\n      this.selectedDevice = row;\n      this.dialogVisible = true;\n    },\n    handleRelease(row) {\n      this.$confirm('确认释放该设备?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const device = this.deviceList.find(d => d.id === row.id);\n        if (device) {\n          device.status = '空闲';\n          device.processId = null;\n          device.requestTime = null;\n          this.$message.success('设备释放成功');\n        }\n      }).catch(() => {});\n    },\n    submitRequest() {\n      if (this.selectedDevice) {\n        const device = this.deviceList.find(d => d.id === this.selectedDevice.id);\n        if (device) {\n          device.status = '使用中';\n          device.processId = this.deviceForm.processId;\n          device.requestTime = new Date().toLocaleString();\n          this.$message.success('设备申请成功');\n        }\n      }\n      this.dialogVisible = false;\n      this.selectedDevice = null;\n    }\n  }\n};","map":{"version":3,"names":["name","data","deviceList","id","type","status","processId","requestTime","dialogVisible","deviceForm","duration","selectedDevice","methods","requestDevice","releaseDevice","$message","success","handleRequest","row","handleRelease","$confirm","confirmButtonText","cancelButtonText","then","device","find","d","catch","submitRequest","Date","toLocaleString"],"sources":["src/views/Device.vue"],"sourcesContent":["<template>\r\n  <div class=\"device-container\">\r\n    <h2>设备管理</h2>\r\n\r\n    <!-- 设备操作按钮 -->\r\n    <div class=\"operation-buttons\">\r\n      <el-button type=\"primary\" @click=\"requestDevice\">申请设备</el-button>\r\n      <el-button type=\"success\" @click=\"releaseDevice\">释放设备</el-button>\r\n    </div>\r\n\r\n    <!-- 设备列表 -->\r\n    <el-table :data=\"deviceList\" style=\"width: 100%; margin-top: 20px\">\r\n      <el-table-column prop=\"id\" label=\"设备ID\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"设备名称\" width=\"150\"></el-table-column>\r\n      <el-table-column prop=\"type\" label=\"设备类型\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.status === '空闲' ? 'success' : 'danger'\">\r\n            {{ scope.row.status }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"processId\" label=\"占用进程\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"requestTime\" label=\"申请时间\" width=\"180\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"handleRequest(scope.row)\"\r\n            :disabled=\"scope.row.status !== '空闲'\">\r\n            申请\r\n          </el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleRelease(scope.row)\"\r\n            :disabled=\"scope.row.status === '空闲'\">\r\n            释放\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 申请设备对话框 -->\r\n    <el-dialog title=\"申请设备\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n      <el-form :model=\"deviceForm\" label-width=\"100px\">\r\n        <el-form-item label=\"进程ID\">\r\n          <el-input-number v-model=\"deviceForm.processId\" :min=\"1\"></el-input-number>\r\n        </el-form-item>\r\n        <el-form-item label=\"使用时长(秒)\">\r\n          <el-input-number v-model=\"deviceForm.duration\" :min=\"1\" :max=\"3600\"></el-input-number>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitRequest\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Device',\r\n  data() {\r\n    return {\r\n      deviceList: [\r\n        {\r\n          id: 1,\r\n          name: '打印机',\r\n          type: '输出设备',\r\n          status: '空闲',\r\n          processId: null,\r\n          requestTime: null\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '扫描仪',\r\n          type: '输入设备',\r\n          status: '空闲',\r\n          processId: null,\r\n          requestTime: null\r\n        },\r\n        {\r\n          id: 3,\r\n          name: '键盘',\r\n          type: '输入设备',\r\n          status: '空闲',\r\n          processId: null,\r\n          requestTime: null\r\n        },\r\n        {\r\n          id: 4,\r\n          name: '显示器',\r\n          type: '输出设备',\r\n          status: '空闲',\r\n          processId: null,\r\n          requestTime: null\r\n        }\r\n      ],\r\n      dialogVisible: false,\r\n      deviceForm: {\r\n        processId: 1,\r\n        duration: 60\r\n      },\r\n      selectedDevice: null\r\n    }\r\n  },\r\n  methods: {\r\n    requestDevice() {\r\n      this.dialogVisible = true\r\n    },\r\n    releaseDevice() {\r\n      this.$message.success('执行设备释放')\r\n    },\r\n    handleRequest(row) {\r\n      this.selectedDevice = row\r\n      this.dialogVisible = true\r\n    },\r\n    handleRelease(row) {\r\n      this.$confirm('确认释放该设备?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const device = this.deviceList.find(d => d.id === row.id)\r\n        if (device) {\r\n          device.status = '空闲'\r\n          device.processId = null\r\n          device.requestTime = null\r\n          this.$message.success('设备释放成功')\r\n        }\r\n      }).catch(() => {})\r\n    },\r\n    submitRequest() {\r\n      if (this.selectedDevice) {\r\n        const device = this.deviceList.find(d => d.id === this.selectedDevice.id)\r\n        if (device) {\r\n          device.status = '使用中'\r\n          device.processId = this.deviceForm.processId\r\n          device.requestTime = new Date().toLocaleString()\r\n          this.$message.success('设备申请成功')\r\n        }\r\n      }\r\n      this.dialogVisible = false\r\n      this.selectedDevice = null\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.device-container {\r\n  padding: 20px;\r\n}\r\n\r\n.operation-buttons {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.operation-buttons .el-button {\r\n  margin-right: 10px;\r\n}\r\n</style> "],"mappings":"AA+DA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,UAAA,GACA;QACAC,EAAA;QACAH,IAAA;QACAI,IAAA;QACAC,MAAA;QACAC,SAAA;QACAC,WAAA;MACA,GACA;QACAJ,EAAA;QACAH,IAAA;QACAI,IAAA;QACAC,MAAA;QACAC,SAAA;QACAC,WAAA;MACA,GACA;QACAJ,EAAA;QACAH,IAAA;QACAI,IAAA;QACAC,MAAA;QACAC,SAAA;QACAC,WAAA;MACA,GACA;QACAJ,EAAA;QACAH,IAAA;QACAI,IAAA;QACAC,MAAA;QACAC,SAAA;QACAC,WAAA;MACA,EACA;MACAC,aAAA;MACAC,UAAA;QACAH,SAAA;QACAI,QAAA;MACA;MACAC,cAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACA,KAAAL,aAAA;IACA;IACAM,cAAA;MACA,KAAAC,QAAA,CAAAC,OAAA;IACA;IACAC,cAAAC,GAAA;MACA,KAAAP,cAAA,GAAAO,GAAA;MACA,KAAAV,aAAA;IACA;IACAW,cAAAD,GAAA;MACA,KAAAE,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAlB,IAAA;MACA,GAAAmB,IAAA;QACA,MAAAC,MAAA,QAAAtB,UAAA,CAAAuB,IAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAvB,EAAA,KAAAe,GAAA,CAAAf,EAAA;QACA,IAAAqB,MAAA;UACAA,MAAA,CAAAnB,MAAA;UACAmB,MAAA,CAAAlB,SAAA;UACAkB,MAAA,CAAAjB,WAAA;UACA,KAAAQ,QAAA,CAAAC,OAAA;QACA;MACA,GAAAW,KAAA;IACA;IACAC,cAAA;MACA,SAAAjB,cAAA;QACA,MAAAa,MAAA,QAAAtB,UAAA,CAAAuB,IAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAvB,EAAA,UAAAQ,cAAA,CAAAR,EAAA;QACA,IAAAqB,MAAA;UACAA,MAAA,CAAAnB,MAAA;UACAmB,MAAA,CAAAlB,SAAA,QAAAG,UAAA,CAAAH,SAAA;UACAkB,MAAA,CAAAjB,WAAA,OAAAsB,IAAA,GAAAC,cAAA;UACA,KAAAf,QAAA,CAAAC,OAAA;QACA;MACA;MACA,KAAAR,aAAA;MACA,KAAAG,cAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}